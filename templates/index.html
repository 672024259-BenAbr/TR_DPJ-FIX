<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VLAN Management System | Future UI</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/styles.css"> 
</head>
<body>

    <div class="user-id-container">
        OP: <input type="text" id="globalName" value="Admin">
    </div>

    <div class="header-title">VLAN SYSTEM</div>
    
    <div id="screen-menu" class="card-menu">
        <h3>COMMAND CENTER</h3>
        <ul class="menu-list">
            <li>1. Create New VLAN</li>
            <li>2. Search VLAN (Read)</li>
            <li>3. Update Configuration</li>
            <li>4. Delete VLAN</li>
            <li>5. Show Network List (Jobdesk)</li>
            <li>6. Terminate</li>
        </ul>
        <div class="action-area">
            <input type="number" id="menuInput" class="input-box" placeholder="Select Option [1-6]" style="flex: 2;">
            <button class="btn-next" style="flex: 1;" onclick="processMenu()">EXECUTE</button>
        </div>
    </div>

    <div id="screen-create" class="sub-screen hidden">
        <h3>INITIALIZE VLAN</h3>
        <div class="form-group">
            <label class="form-label">VLAN ID (RANGE 2-4094)</label>
            <input type="number" id="createId" class="input-box" placeholder="ex: 100">
        </div>
        <div class="form-group">
            <label class="form-label">VLAN LABEL</label>
            <input type="text" id="createName" class="input-box" placeholder="ex: FINANCE_NET">
        </div>
        <button class="btn-action" onclick="actionCreate()">DEPLOY VLAN</button>
        <button class="btn-back" onclick="showScreen('menu')">BACK</button>
    </div>

    <div id="screen-read" class="sub-screen hidden">
        <h3>SEARCH PROTOCOL</h3>
        <div style="background:rgba(255,255,255,0.02); padding:20px; border-radius:12px; border:1px dashed var(--border);">
            <label class="form-label">TARGET VLAN ID</label>
            <div style="display:flex; gap:10px;">
                <input type="text" id="searchReadInput" class="input-box" placeholder="Enter ID...">
                <button class="btn-next" style="padding:10px 30px;" onclick="actionSearchRead()">SCAN</button>
            </div>
        </div>

        <div id="readResultArea" class="hidden">
            <h4 style="margin: 25px 0 10px 0; color:var(--primary); font-family:'Rajdhani'; letter-spacing:1px;">DATA RETRIEVED:</h4>
            <table class="result-table">
                <tr><th>ID</th><th>LABEL</th><th>CREATOR</th></tr>
                <tr>
                    <td id="resId" style="color:var(--accent); font-weight:bold;">-</td>
                    <td id="resName">-</td>
                    <td id="resUser">-</td>
                </tr>
            </table>
        </div>
        <button class="btn-back" onclick="showScreen('menu')">BACK</button>
    </div>

    <div id="screen-update" class="sub-screen hidden">
        <h3>MODIFY CONFIGURATION</h3>
        <div style="margin-bottom:20px;">
            <label class="form-label">TARGET ID TO UPDATE</label>
            <div style="display:flex; gap:10px;">
                <input type="text" id="searchUpdateInput" class="input-box" placeholder="Enter ID...">
                <button class="btn-next" style="padding:10px 30px;" onclick="cariUntukUpdate()">LOCATE</button>
            </div>
        </div>
        
        <div id="formUpdateArea" style="opacity:0.3; pointer-events:none; transition:0.3s;">
            <div class="form-group">
                <label class="form-label">NEW VLAN LABEL</label>
                <input type="text" id="updateName" class="input-box">
                <input type="hidden" id="updateId">
            </div>
            <button class="btn-action" style="background: linear-gradient(135deg, var(--accent), #9333ea);" onclick="actionUpdate()">OVERWRITE DATA</button>
        </div>
        <button class="btn-back" onclick="showScreen('menu')">BACK</button>
    </div>

    <div id="screen-delete" class="sub-screen hidden">
        <h3 style="border-color:#ef4444; color:#ef4444;">DELETE PROTOCOL</h3>
        <div class="form-group">
            <label class="form-label" style="color:#ef4444;">TARGET VLAN ID</label>
            <input type="text" id="deleteId" class="input-box" placeholder="Warning: Irreversible Action">
        </div>
        <button class="btn-action btn-delete" onclick="actionDelete()">DESTROY VLAN</button>
        <button class="btn-back" onclick="showScreen('menu')">BACK</button>
    </div>

    <div id="screen-list" class="sub-screen hidden" style="max-width: 700px;"> <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid var(--border); padding-bottom:15px; margin-bottom:15px;">
            <h3 style="margin:0; border:none; padding:0;">NETWORK TEAM MATRIX</h3>
            <button onclick="fetchData()" style="padding:5px 15px; font-size:12px; background:rgba(255,255,255,0.1); color:white; border:none; cursor:pointer;">REFRESH</button>
        </div>
        
        <div id="listContainer" style="max-height: 400px; overflow-y: auto; padding-right:5px;">
            <div style="text-align:center; color:var(--text-muted); padding:20px;">Waiting for data stream...</div>
        </div>
        
        <button class="btn-back" onclick="showScreen('menu')">BACK</button>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>